// Generated by CoffeeScript 1.3.3
(function() {
  var FITS, require;

  require = window.require;

  FITS = require("fits");

  describe("FITS CompImage", function() {
    return it('can read a FITS compressed image', function() {
      var fits, xhr;
      fits = null;
      xhr = new XMLHttpRequest();
      xhr.open('GET', 'data/CFHTLS_03_g_sci.fits.fz');
      xhr.responseType = 'arraybuffer';
      xhr.onload = function() {
        return fits = new FITS.File(xhr.response);
      };
      xhr.send();
      waitsFor(function() {
        return fits != null;
      });
      return runs(function() {
        var data;
        data = fits.getDataUnit();
        data.getFrame();
        expect(data.getPixel(0, 0)).toEqual(3852);
        expect(data.getPixel(890, 0)).toEqual(4223);
        expect(data.getPixel(890, 892)).toEqual(4015);
        expect(data.getPixel(0, 892)).toEqual(3898);
        expect(data.getPixel(405, 600)).toEqual(9128);
        expect(data.getPixel(350, 782)).toEqual(4351);
        expect(data.getPixel(108, 345)).toEqual(4380);
        return expect(data.getPixel(720, 500)).toEqual(5527);
      });
    });
  });

}).call(this);
