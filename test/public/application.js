((function(){if(!this.require){var a={},b={},c=function(f,g){var h=d(g,f),i=d(h,"./index"),j,k;j=b[h]||b[i];if(j)return j;if(k=a[h]||a[h=i])return j={id:h,exports:{}},b[h]=j.exports,k(j.exports,function(a){return c(a,e(h))},j),b[h]=j.exports;throw"module "+f+" not found"},d=function(a,b){var c=[],d,e;/^\.\.?(\/|$)/.test(b)?d=[a,b].join("/").split("/"):d=b.split("/");for(var f=0,g=d.length;f<g;f++)e=d[f],e==".."?c.pop():e!="."&&e!=""&&c.push(e);return c.join("/")},e=function(a){return a.split("/").slice(0,-1).join("/")};this.require=function(a){return c(a,"")},this.require.define=function(b){for(var c in b)a[c]=b[c]},this.require.modules=a,this.require.cache=b}return this.require.define})).call(this)({"jDataView/src/jdataview":function(a,b,c){(function(a){var b={ArrayBuffer:typeof ArrayBuffer!="undefined",DataView:typeof DataView!="undefined"&&"getFloat64"in DataView.prototype,NodeBuffer:typeof Buffer!="undefined",NodeBufferFull:typeof Buffer!="undefined"&&"readInt8LE"in Buffer,NodeBufferEndian:typeof Buffer!="undefined"&&"readInt8"in Buffer},c=function(a,c,d,e){if(!(this instanceof arguments.callee))throw new Error("Constructor may not be called as a function");this.buffer=a;if(!(b.NodeBuffer&&a instanceof Buffer)&&!(b.ArrayBuffer&&a instanceof ArrayBuffer)&&typeof a!="string")throw new TypeError("Type error");this._isArrayBuffer=b.ArrayBuffer&&a instanceof ArrayBuffer,this._isDataView=b.DataView&&this._isArrayBuffer,this._isNodeBuffer=b.NodeBuffer&&a instanceof Buffer,this._littleEndian=e===undefined?!0:e;var f=this._isArrayBuffer?a.byteLength:a.length;c===undefined&&(c=0),this.byteOffset=c,d===undefined&&(d=f-c),this.byteLength=d;if(!this._isDataView){if(typeof c!="number")throw new TypeError("Type error");if(typeof d!="number")throw new TypeError("Type error");if(typeof c<0)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");if(typeof d<0)throw new Error("INDEX_SIZE_ERR: DOM Exception 1")}this._isDataView&&(this._view=new DataView(a,c,d),this._start=0),this._start=c;if(c+d>f)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");this._offset=0};c.createBuffer=function(){if(b.NodeBuffer){var a=new Buffer(arguments.length);for(var c=0;c<arguments.length;++c)a[c]=arguments[c];return a}if(b.ArrayBuffer){var a=new ArrayBuffer(arguments.length),d=new Int8Array(a);for(var c=0;c<arguments.length;++c)d[c]=arguments[c];return a}return String.fromCharCode.apply(null,arguments)},c.prototype={getString:function(a,b){var c;b===undefined&&(b=this._offset);if(typeof b!="number")throw new TypeError("Type error");if(a<0||b+a>this.byteLength)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");if(this._isNodeBuffer)c=this.buffer.toString("ascii",this._start+b,this._start+b+a);else{c="";for(var d=0;d<a;++d){var e=this.getUint8(b+d);c+=String.fromCharCode(e>127?65533:e)}}return this._offset=b+a,c},getChar:function(a){return this.getString(1,a)},tell:function(){return this._offset},seek:function(a){if(typeof a!="number")throw new TypeError("Type error");if(a<0||a>this.byteLength)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");return this._offset=a},_endianness:function(a,b,c,d){return a+(d?c-b-1:b)},_getFloat64:function(a,b){var c=this._getUint8(this._endianness(a,0,8,b)),d=this._getUint8(this._endianness(a,1,8,b)),e=this._getUint8(this._endianness(a,2,8,b)),f=this._getUint8(this._endianness(a,3,8,b)),g=this._getUint8(this._endianness(a,4,8,b)),h=this._getUint8(this._endianness(a,5,8,b)),i=this._getUint8(this._endianness(a,6,8,b)),j=this._getUint8(this._endianness(a,7,8,b)),k=1-2*(c>>7),l=((c<<1&255)<<3|d>>4)-(Math.pow(2,10)-1),m=(d&15)*Math.pow(2,48)+e*Math.pow(2,40)+f*Math.pow(2,32)+g*Math.pow(2,24)+h*Math.pow(2,16)+i*Math.pow(2,8)+j;return l===1024?m!==0?NaN:k*Infinity:l===-1023?k*m*Math.pow(2,-1074):k*(1+m*Math.pow(2,-52))*Math.pow(2,l)},_getFloat32:function(a,b){var c=this._getUint8(this._endianness(a,0,4,b)),d=this._getUint8(this._endianness(a,1,4,b)),e=this._getUint8(this._endianness(a,2,4,b)),f=this._getUint8(this._endianness(a,3,4,b)),g=1-2*(c>>7),h=(c<<1&255|d>>7)-127,i=(d&127)<<16|e<<8|f;return h===128?i!==0?NaN:g*Infinity:h===-127?g*i*Math.pow(2,-149):g*(1+i*Math.pow(2,-23))*Math.pow(2,h)},_getInt32:function(a,b){var c=this._getUint32(a,b);return c>Math.pow(2,31)-1?c-Math.pow(2,32):c},_getUint32:function(a,b){var c=this._getUint8(this._endianness(a,0,4,b)),d=this._getUint8(this._endianness(a,1,4,b)),e=this._getUint8(this._endianness(a,2,4,b)),f=this._getUint8(this._endianness(a,3,4,b));return c*Math.pow(2,24)+(d<<16)+(e<<8)+f},_getInt16:function(a,b){var c=this._getUint16(a,b);return c>Math.pow(2,15)-1?c-Math.pow(2,16):c},_getUint16:function(a,b){var c=this._getUint8(this._endianness(a,0,2,b)),d=this._getUint8(this._endianness(a,1,2,b));return(c<<8)+d},_getInt8:function(a){var b=this._getUint8(a);return b>Math.pow(2,7)-1?b-Math.pow(2,8):b},_getUint8:function(a){return this._isArrayBuffer?(new Uint8Array(this.buffer,a,1))[0]:this._isNodeBuffer?this.buffer[a]:this.buffer.charCodeAt(a)&255}};var d={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8},e={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};for(var f in d){if(!d.hasOwnProperty(f))continue;(function(a){var f=d[a];c.prototype["get"+a]=function(c,d){var g;d===undefined&&(d=this._littleEndian),c===undefined&&(c=this._offset);if(this._isDataView)g=this._view["get"+a](c,d);else if(this._isArrayBuffer&&(this._start+c)%f===0&&(f===1||d))g=(new all[a+"Array"](this.buffer,this._start+c,1))[0];else if(this._isNodeBuffer&&b.NodeBufferFull)d?g=this.buffer["read"+e[a]+"LE"](this._start+c):g=this.buffer["read"+e[a]+"BE"](this._start+c);else if(this._isNodeBuffer&&b.NodeBufferEndian)g=this.buffer["read"+e[a]](this._start+c,d);else{if(typeof c!="number")throw new TypeError("Type error");if(c+f>this.byteLength)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");g=this["_get"+a](this._start+c,d)}return this._offset=c+f,g}})(f)}if(typeof jQuery!="undefined"&&jQuery.fn.jquery>="1.6.2"){var g=function(a){var b;try{b=IEBinaryToArray_ByteStr(a)}catch(c){var d="Function IEBinaryToArray_ByteStr(Binary)\r\n\tIEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n\tDim lastIndex\r\n\tlastIndex = LenB(Binary)\r\n\tif lastIndex mod 2 Then\r\n\t\tIEBinaryToArray_ByteStr_Last = AscB( MidB( Binary, lastIndex, 1 ) )\r\n\tElse\r\n\t\tIEBinaryToArray_ByteStr_Last = -1\r\n\tEnd If\r\nEnd Function\r\n";window.execScript(d,"vbscript"),b=IEBinaryToArray_ByteStr(a)}var e=IEBinaryToArray_ByteStr_Last(a),f="",g=0,h=b.length%8,i;while(g<h)i=b.charCodeAt(g++),f+=String.fromCharCode(i&255,i>>8);h=b.length;while(g<h)f+=String.fromCharCode((i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8,(i=b.charCodeAt(g++),i&255),i>>8);return e>-1&&(f+=String.fromCharCode(e)),f};jQuery.ajaxSetup({converters:{"* dataview":function(a){return new c(a)}},accepts:{dataview:"text/plain; charset=x-user-defined"},responseHandler:{dataview:function(a,b,c){"mozResponseArrayBuffer"in c?a.text=c.mozResponseArrayBuffer:"responseType"in c&&c.responseType==="arraybuffer"&&c.response?a.text=c.response:"responseBody"in c?a.text=g(c.responseBody):a.text=c.responseText}}}),jQuery.ajaxPrefilter("dataview",function(a,b,c){jQuery.support.ajaxResponseType&&(a.hasOwnProperty("xhrFields")||(a.xhrFields={}),a.xhrFields.responseType="arraybuffer"),a.mimeType="text/plain; charset=x-user-defined"})}a.jDataView=(a.module||{}).exports=c})(this)},"fits.bintable":function(a,b,c){((function(){})).call(this)},fits:function(a,b,c){((function(){var a,d,e,f,g,h,i,j,k,l=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},m=Object.prototype.hasOwnProperty,n=function(a,b){function d(){this.constructor=a}for(var c in b)m.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};b("jDataView/src/jdataview"),j=function(){function a(){}return a.include=function(a){var b,c,d;if(!a)throw"include(obj) requires obj";for(b in a)c=a[b],l.call(moduleKeywords,b)<0&&(this.prototype[b]=c);return(d=a.included)!=null&&d.apply(this),this},a.extend=function(a){var b,c,d;if(!a)throw"extend(obj) requires obj";for(b in a)c=a[b],l.call(moduleKeywords,b)<0&&(this[b]=c);return(d=a.extended)!=null&&d.apply(this),this},a}(),h=function(){function a(){this.cards={},this.cardIndex=0,this.primary=!1,this.extension=!1}return a.keywordPattern=/([\w_]+)\s*=?\s*(.*)/,a.nonStringPattern=/([^\/]*)\s*\/*(.*)/,a.stringPattern=/'(.*)'\s*\/*(.*)/,a.principalMandatoryKeywords=["BITPIX","NAXIS","END"],a.extensionKeywords=["BITPIX","NAXIS","PCOUNT","GCOUNT"],a.arrayKeywordPattern=/^((?:NAXIS)|(?:PSCAL)|(?:PZERO)|(?:TBCOL)|(?:TSCAL)|(?:TZERO)|(?:ZNAXIS)|(?:ZTILE)|(?:CRPIX)|(?:CRVAL)|(?:CDELT)|(?:CROTA)|(?:PC)|(?:CD))(\d+)_*\d*/,a.prototype.get=function(a){return this.cards.hasOwnProperty(a)?this.cards[a]:console.warn("Header does not contain the key "+a)},a.prototype.getIndex=function(a){return this.cards.hasOwnProperty(a)?this.cards[a][0]:console.warn("Header does not contain the key "+a)},a.prototype.getComment=function(a){return this.cards.hasOwnProperty(a)?this.cards[a][2]!=null?this.cards[a][2]:console.warn(""+a+" does not contain a comment"):console.warn("Header does not contain the key "+a)},a.prototype.getComments=function(){return this.cards.hasOwnProperty(key)?this.cards.COMMENT:console.warn("Header does not contain any COMMENT fields")},a.prototype.getHistory=function(){return this.cards.hasOwnProperty(key)?this.cards.HISTORY:console.warn("Header does not contain any HISTORY fields")},a.prototype.set=function(a,b,c){return this.cards[a]=c?[this.cardIndex,b,c]:[this.cardIndex,b],this.cardIndex+=1},a.prototype.setComment=function(a){return this.cards.hasOwnProperty("COMMENT")||(this.cards.COMMENT=[],this.cardIndex+=1),this.cards.COMMENT.push(a)},a.prototype.setHistory=function(a){return this.cards.hasOwnProperty("HISTORY")||(this.cards.HISTORY=[],this.cardIndex+=1),this.cards.HISTORY.push(a)},a.prototype.contains=function(a){return this.cards.hasOwnProperty(a)},a.parseNonNegativeInt=function(a){a=parseInt(a);if(isNaN(a))throw"Value must be an integer";if(a<0)throw"Value "+a+" must be non-negative";return a},a.parsePositiveInt=function(a){a=parseInt(a);if(isNaN(a))throw"Value must be an integer";if(a<1)throw"Value must be positive";return a},a.parseDate=function(a){return a=new Date(a)},a.parseLogical=function(a){return a==="T"?!0:!1},a.reservedKeywordFormat={SIMPLE:a.parseLogical,BITPIX:parseInt,NAXIS:a.parseNonNegativeInt,PCOUNT:parseInt,GCOUNT:parseInt,DATE:a.parseDate,EXTEND:a.parseLogical,"DATE-OBS":a.parseDate,BSCALE:parseFloat,BZERO:parseFloat,DATAMAX:parseFloat,DATAMIN:parseFloat,EXTVER:parseInt,EXTLEVEL:parseInt,PSCAL:parseFloat,PZERO:parseFloat,TFIELDS:a.parseNonNegativeInt,TBCOL:a.parsePositiveInt,TSCAL:parseFloat,TZERO:parseFloat,THEAP:parseInt,ZIMAGE:a.parseLogical,ZBITPIX:parseInt,ZNAXIS:a.parseNonNegativeInt,ZTILE:a.parsePositiveInt,ZSIMPLE:a.parseLogical,ZEXTEND:a.parseLogical,ZPCOUNT:parseInt,ZGCOUNT:parseInt,WCSAXES:parseInt,CRPIX:parseFloat,CRVAL:parseFloat,CDELT:parseFloat,CROTA:parseFloat,PC:parseFloat,CD:parseFloat},a.prototype.readCard=function(b){var c,d,e,f,g,h,i,j;g=b.match(a.keywordPattern),i=g.slice(1),e=i[0],h=i[1],h[0]==="'"?(g=h.match(a.stringPattern),g[1]=g[1].trim(),g[2]=g[2].trim()):(g=h.match(a.nonStringPattern),g[1]=parseFloat(g[1])),j=g.slice(1),h=j[0],d=j[1],a.reservedKeywordFormat.hasOwnProperty(e)&&(h=a.reservedKeywordFormat[e](h)),c=e.match(a.arrayKeywordPattern),c!=null&&(f=c[1],h=a.reservedKeywordFormat[f](h));switch(e){case"COMMENT":return this.setComment(h);case"HISTORY":return this.setHistory(h);default:return this.set(e,h,d),this.__defineGetter__(e,function(){return this.cards[e][1]})}},a.prototype.verify=function(){var b,c,d,e,f,g,h,i,j;this.contains("SIMPLE")?(g="SIMPLE",this.primary=!0,e=a.principalMandatoryKeywords):(g="XTENSION",this.extension=!0,this.extensionType=this.XTENSION,e=a.extensionKeywords),c=0,this.getIndex(g)!==c&&(console.warn(""+g+" should be the first keyword in the header"),c-=1),c+=1,j=[];for(h=0,i=e.length;h<i;h++){d=e[h];if(!this.contains(d))throw"Header does not contain the required keyword "+d;d==="END"?this.getIndex(d)!==this.cardIndex-1&&console.warn(""+d+" is not in the correct order"):this.getIndex(d)!==c&&console.warn(""+d+" is not in the correct order"),c+=1,d==="NAXIS"?(b=1,j.push(function(){var a;a=[];while(b<=this.NAXIS){f=d+b;if(!this.contains(f))throw"Header does not contain the required keyword "+f;this.getIndex(f)!==c&&console.warn(""+f+" is not in the correct order"),c+=1,a.push(b+=1)}return a}.call(this))):j.push(void 0)}return j},a.primaryRequiredKeywords=[{keyword:"SIMPLE",values:["T","F"],dataType:"boolean",position:0},{keyword:"BITPIX",values:[8,16,32,64,-32,-64],dataType:"integer",position:1},{keyword:"NAXIS",dataType:"integer",position:2},{keyword:"END"}],a.verifyPrimary=function(b){var c,d,e,f,g,h,i,j,k,m;j=a.primaryRequiredKeywords,m=[];for(h=0,i=j.length;h<i;h++){d=j[h],e=d.keyword,g=d.values,c=d.dataType,f=d.position;if(!b.contains(e))throw"Keyword "+e+" is required";if(g!=null){if(k=b[e],l.call(g,k)<0)throw"Inappropriate value for "+e;m.push(void 0)}else m.push(void 0)}return m},a.prototype.hasDataUnit=function(){return this.NAXIS===0?!1:!0},a.prototype.isPrimary=function(){return this.primary},a.prototype.isExtension=function(){return this.extension},a}(),d=function(a){function b(a,b){this.view=a,this.begin=this.current=a.tell()}return n(b,a),b}(j),i=function(a){function b(a,c){var d,e,f,g=this;b.__super__.constructor.apply(this,arguments),f=c.NAXIS,d=c.BITPIX,this.naxis=[],this.rowByteSize=c.NAXIS1*Math.abs(d)/8,this.rowsRead=0,e=1;while(e<=f)this.naxis.push(c["NAXIS"+e]),e+=1;this.length=this.naxis.reduce(function(a,b){return a*b})*Math.abs(d)/8,this.data=void 0;switch(d){case 8:this.arrayType=Uint8Array,this.accessor=function(){return g.view.getUint8()};break;case 16:this.arrayType=Int16Array,this.accessor=function(){return g.view.getInt16()};break;case 32:this.arrayType=Int32Array,this.accessor=function(){return g.view.getInt32()};break;case 64:this.arrayType=Int32Array,this.accessor=function(){var a,b,c,d,e;return console.warn("Something funky happens here when dealing with 64 bit integers.  Be wary!!!"),b=Math.abs(g.view.getInt32()),c=Math.abs(g.view.getInt32()),d=b%10,a=d?-1:1,b-=d,e=a*(b<<32|c),e};break;case-32:this.arrayType=Float32Array,this.accessor=function(){return g.view.getFloat32()};break;case-64:this.arrayType=Float64Array,this.accessor=function(){return g.view.getFloat64()};break;default:throw"FITS keyword BITPIX does not conform to one of the following set values [8, 16, 32, 64, -32, -64]"}}return n(b,a),b.prototype.initArray=function(){return this.data=new this.arrayType(this.naxis.reduce(function(a,b){return a*b}))},b.prototype.getRow=function(){var a,b,c;this.current=this.begin+this.rowsRead*this.rowByteSize,b=this.naxis[0],this.view.seek(this.current);for(a=0,c=b-1;0<=c?a<=c:a>=c;0<=c?a++:a--)this.data[b*this.rowsRead+a]=this.accessor();return this.rowsRead+=1},b.prototype.getFrame=function(){var a,b,c;c=[];for(a=0,b=this.naxis[1]-1;0<=b?a<=b:a>=b;0<=b?a++:a--)c.push(this.getRow());return c},b}(d),k=function(a){function b(a,c){b.__super__.constructor.apply(this,arguments),this.length=c.NAXIS1*c.NAXIS2}return n(b,a),b}(d),a=function(a){function b(a,c){var d,e,f,g,h,i,j,k,l,m=this;b.__super__.constructor.apply(this,arguments),this.rowByteSize=c.NAXIS1,this.rows=c.NAXIS2,this.length=this.tableLength=this.rowByteSize*this.rows,this.compressedImage=c.contains("ZIMAGE"),this.rowsRead=0;if(this.compressedImage){this.length+=c.PCOUNT,this.cmptype=c.ZCMPTYPE,this.bitpix=c.ZBITPIX,this.naxis=c.ZNAXIS,this.nx=c.contains("ZTILE1")?parseInt(c.ZTILE1):c.ZNAXIS1,this.bzero=c.contains("BZERO")?c.BZERO:0;if(this.cmptype!=="RICE_1")throw"Compression algorithm not yet implemented.";e=1;for(;;){if(!c.contains("ZNAME"+e))break;h=c["ZNAME"+e],j=c["ZVAL"+e],h==="BLOCKSIZE"?this.blocksize=j:h==="BYTEPIX"&&(this.bytepix=j),e+=1}this.blocksize||(this.blocksize=32),this.bytepix||(this.bytepix=4)}this.fields=parseInt(c.TFIELDS),this.accessors=[];for(e=1,k=this.fields;1<=k?e<=k:e>=k;1<=k?e++:e--)f="TFORM"+e,j=c[f],g=j.match(b.arrayDescriptorPattern),g!=null?function(){var a,c;return c=g[1],a=function(){var a,d,e,f;e=m.view.getInt32(),f=m.view.getInt32(),m.current=m.view.tell(),m.view.seek(m.begin+m.tableLength+f),a=[];for(d=1;1<=e?d<=e:d>=e;1<=e?d++:d--)a.push(b.dataAccessors[c](m.view));return m.view.seek(m.current),a},m.accessors.push(a)}():(g=j.match(b.dataTypePattern),l=g.slice(1),i=l[0],d=l[1],i=i?parseInt(i):0,i===0?function(){var a;return d=g[2],a=function(a){var c;return c=b.dataAccessors[d](m.view),c},m.accessors.push(a)}():function(){var a;return d=g[2],a=function(){var a,c;a=[];for(c=1;1<=i?c<=i:c>=i;1<=i?c++:c--)a.push(b.dataAccessors[d](m.view));return a},m.accessors.push(a)}())}return n(b,a),b.dataTypePattern=/(\d*)([L|X|B|I|J|K|A|E|D|C|M])/,b.arrayDescriptorPattern=/[0,1]*P([L|X|B|I|J|K|A|E|D|C|M])\((\d*)\)/,b.compressedImageKeywords=["ZIMAGE","ZCMPTYPE","ZBITPIX","ZNAXIS"],b.dataAccessors={L:function(a){var b;return b=a.getInt8()===84?!0:!1,b},X:function(a){throw"Data type not yet implemented"},B:function(a){return a.getUint8()},I:function(a){return a.getInt16()},J:function(a){return a.getInt32()},K:function(a){var b,c,d,e,f;return c=Math.abs(a.getInt32()),d=Math.abs(a.getInt32()),e=c%10,b=e?-1:1,c-=e,f=b*(c<<32|d),console.warn("Something funky happens here when dealing with 64 bit integers.  Be wary!!!"),f},A:function(a){return a.getChar()},E:function(a){return a.getFloat32()},D:function(a){return a.getFloat64()},C:function(a){return[a.getFloat32(),a.getFloat32()]},M:function(a){return[a.getFloat64(),a.getFloat64()]}},b.prototype.getRow=function(){var a,b,c,d;this.current=this.begin+this.rowsRead*this.rowByteSize,this.view.seek(this.current),c=[];for(b=0,d=this.accessors.length-1;0<=d?b<=d:b>=d;0<=d?b++:b--)a=this.accessors[b](),c.push(a);return this.rowsRead+=1,this.compressedImage&&console.log(this.riceDecompressShort(a)),c},b.prototype.riceDecompressShort=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;p=new Uint16Array(this.nx),g=4,h=14,c=1<<g,n=new Array(256),o=8,k=128,i=255;while(i>=0){while(i>=k)n[i]=o,i-=1;k/=2,o-=1}n[0]=0,l=0,d=a.shift(),l|=d<<8,d=a.shift(),l|=d,b=a.shift(),m=8,i=0;while(i<this.nx){m-=g;while(m<0)b=b<<8|a.shift(),m+=8;f=(b>>m)-1,b&=(1<<m)-1,j=i+this.blocksize,j>this.nx&&(j=this.nx);if(f<0)while(i<j)a[i]=l,i++;else if(f===h)while(i<j){k=c-m,e=b<<k,k-=8;while(k>=0)b=a.shift(),e|=b<<k,k-=8;m>0?(b=a.shift(),e|=b>>-k,b&=(1<<m)-1):b=0,(e&1)===0?e>>=1:e=~(e>>1),a[i]=e+l,l=a[i],i++}else while(i<j){while(b===0)m+=8,b=a.shift();o=m-n[b],m-=o+1,b^=1<<m,m-=f;while(m<0)b=b<<8|a.shift(),m+=8;e=o<<f|b>>m,b&=(1<<m)-1,(e&1)===0?e>>=1:e=~(e>>1),p[i]=e+l,l=p[i],i++}}for(i=0,q=p.length-1;0<=q?i<=q:i>=q;0<=q?i++:i--)p[i]=p[i]+this.bzero;return p},b}(d),g=function(){function a(a,b){this.header=a,this.data=b}return a}(),f=function(){function b(a){var b,c,d;this.length=a.byteLength,this.view=new jDataView(a,void 0,void 0,!1),this.hdus=[],this.eof=!1;for(;;){d=this.readHeader(),b=this.readData(d),c=new g(d,b),this.hdus.push(c);if(this.eof)break}}return b.LINEWIDTH=80,b.BLOCKLENGTH=2880,b.BITPIX=[8,16,32,64,-32,-64],b.excessBytes=function(a){return b.BLOCKLENGTH-a%b.BLOCKLENGTH},b.prototype.readHeader=function(){var a,c,d,e;e=0,c=new h;for(;;){d=this.view.getString(b.LINEWIDTH),e+=1,c.readCard(d);if(d.slice(0,4)==="END ")break}return c.verify(),a=b.excessBytes(e*b.LINEWIDTH),this.view.seek(this.view.tell()+a),this.checkEOF(),c},b.prototype.readData=function(c){var d,e;if(!c.hasDataUnit())return;return c.isPrimary()?d=new i(this.view,c):c.isExtension()&&(c.extensionType==="BINTABLE"?d=new a(this.view,c):c.extensionType==="TABLE"&&(d=new k(this.view,c))),e=b.excessBytes(d.length),this.view.seek(this.view.tell()+d.length+e),this.checkEOF(),d},b.prototype.checkEOF=function(){if(this.view.tell()===this.length)return this.eof=!0},b}(),e=this.FITS={},typeof c!="undefined"&&c!==null&&(c.exports=e),e.version="0.0.1",e.File=f,e.Header=h,e.Data=d,e.Image=i,e.Table=k,e.BinTable=a})).call(this)},"fits.decompress":function(a,b,c){((function(){FITS.Decompress={rice:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t;k=4,l=14,h=1<<k,t=this.riceSetup[d](),k=t[0],l=t[1],p=t[2],r=new Array(256),s=8,o=128,m=255;while(m>=0){while(m>=o)r[m]=s,m-=1;o/=2,s-=1}r[0]=0,g=a.shift(),q=8,m=0;while(m<f){q-=k;while(q<0)g=g<<8|a.shift(),q+=8;j=(g>>q)-1,g&=(1<<q)-1,n=m+c,n>f&&(n=f);if(j<0)while(m<n)a[m]=p,m++;else if(j===l)while(m<n){o=h-q,i=g<<o,o-=8;while(o>=0)g=a.shift(),i|=g<<o,o-=8;q>0?(g=a.shift(),i|=g>>-o,g&=(1<<q)-1):g=0,(i&1)===0?i>>=1:i=~(i>>1),a[m]=i+p,p=a[m],m++}else while(m<n){while(g===0)q+=8,g=a.shift();s=q-r[g],q-=s+1,g^=1<<q,q-=j;while(q<0)g=g<<8|a.shift(),q+=8;i=s<<j|g>>q,g&=(1<<q)-1,(i&1)===0?i>>=1:i=~(i>>1),e[m]=i+p,p=e[m],m++}}return e},riceSetup:{1:function(){var a,b,c;return a=3,b=6,c=array.shift(),[a,b,c]},2:function(){var a,b,c,d;return b=4,c=14,d=0,a=array.shift(),d|=a<<8,a=array.shift(),d|=a,[b,c,d]}},gzip:function(a,b){throw"Not yet implemented"},plio:function(a,b){throw"Not yet implemented"},hcompress:function(a,b){throw"Not yet implemented"}},typeof c!="undefined"&&c!==null&&(c.exports=FITS.Decompress)})).call(this)},"fits.header":function(a,b,c){((function(){})).call(this)},"fits.image":function(a,b,c){((function(){})).call(this)}})