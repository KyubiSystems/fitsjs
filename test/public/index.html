<!DOCTYPE html>
<html>
<head>
  <title>Testing fitsjs</title>
  <link rel="stylesheet" type="text/css" href="/test/lib/jasmine.css">
  <script type="text/javascript" src="/test/lib/jasmine.js"></script>
  <script type="text/javascript" src="/test/lib/jasmine.html.js"></script>

  <script src="/application.js" type="text/javascript" charset="utf-8"></script>
  <script src="/test/specs.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
    for(var key in specs.modules) specs(key);
  </script>

</head>
<body>
  <script type="text/javascript">
    jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
    var fits;
    window.onload = function () {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', "http://0.0.0.0:9294/data/m101.fits", true)
      xhr.responseType = 'arraybuffer'
      xhr.onload = function (e) {
        fits = new FITS.File(xhr.response);
        
        jasmine.getEnv().execute();
      };
      xhr.send();
    };
    
  </script>
</body>
</html>