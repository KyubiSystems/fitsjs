<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">README.md</div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="fitsjs">fitsjs</h1>

<p>A standalone JavaScript library for reading the astronomical file format – FITS.  This library is built for modern browsers supporting the DataView API.  These include at least Chrome 9, Firefox 15, and Safari 6.</p>

<p>To use the library copy <code>lib/fits.js</code> to your project and include it with a script tag.  The FITS object is exposed under the <code>astro</code> namespace.</p>

<pre><code>&lt;script src="fits.js" type="text/javascript" charset="utf-8"&gt;
&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  var FITS = astro.FITS;
&lt;/script&gt;
</code></pre>

<p>This library may be used to read various forms of the FITS format.  This implementation is under active development.  Currently it supports:</p>

<ul>
<li>Reading multiple header data units</li>
<li>Reading images</li>
<li>Reading data cubes</li>
<li>Reading binary tables</li>
<li>Reading ASCII Tables</li>
<li>Reading Rice compressed images</li>
</ul>

<p>Please let me know if you incorporate this library in your project, and please share your application with the rest of the astronomy community.</p>

<h2 id="api">API</h2>

<h3 id="fitsfile">FITS.File</h3>

<pre><code>fits.getHDU()
</code></pre>

<p>Returns the first HDU containing a data unit.  An optional argument may be passed to retrieve 
a specific HDU.</p>

<pre><code>fits.getHeader()
</code></pre>

<p>Returns the header associated with the first HDU containing a data unit.  An optional argument
may be passed to point to a specific HDU.</p>

<pre><code>fits.getDataUnit()
</code></pre>

<p>Returns the data object associated with the first HDU containing a data unit.  This method does not read from the array buffer.
An optional argument may be passed to point to a specific HDU.</p>

<pre><code>fits.getData()
</code></pre>

<p>Returns the data associated with the first HDU containing a data unit.  An optional argument
may be passed to point to a specific HDU.</p>

<h3 id="fitshdu">FITS.HDU</h3>

<pre><code>hdu.getCard(key)
</code></pre>

<p>Returns the value from the header of the user specified key.</p>

<h3 id="fitsheader">FITS.Header</h3>

<pre><code>hdr.get(key)
</code></pre>

<p>Returns the value of the key.</p>

<pre><code>hdr.contains(key)
</code></pre>

<p>Checks if a key is contained in the header instance.</p>

<pre><code>hdr.hasDataUnit()
</code></pre>

<p>Checks if the header has an associated data unit.</p>

<h2 id="examples">Examples</h2>

<pre><code>&lt;script src="fits.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  var FITS = astro.FITS;

  // Define a callback function for when the FITS file is received
  fn = function() {

    // Get the first header-dataunit containing a dataunit
    var hdu = this.getHDU();

    // Get the first header
    var header = this.getHeader();

    // or we can do
    var header = hdu.header;

    // Read a card from the header
    var bitpix = header.get('BITPIX');

    // Get the dataunit object
    var dataunit = hdu.data;

    // or we can do
    var dataunit = this.getDataUnit();

    // Do some wicked client side processing ...
  }

  // Set path to FITS file
  var url = "/some/FITS/file/on/your/server.fits";

  // Initialize a new FITS File object
  var fits = new FITS.File(url, fn);

  // Alternatively, the FITS.File object may be initialized with a buffer
  // using the HTML5 File API or an XML HTTP request.  In this case, no callback function
  // is required.
  var fits = new FITS.File(buffer);

&lt;/script&gt;
</code></pre>

<h2 id="references">References</h2>

<p>Pence, W. D. Binary Table Extension To FITS.</p>

<p>Pence, W. D., L. Chiappetti, C. G. Page, R. a. Shaw, and E. Stobie. 2010. Definition of the Flexible Image Transport System ( FITS ), version 3.0. Astronomy &amp; Astrophysics 524 (November 22): A42. doi:10.1051/0004-6361/201015362. http://www.aanda.org/10.1051/0004-6361/201015362.</p>

<p>Ponz, J.D., Thompson, R.W., Muñoz, J.R. The FITS Image Extension.</p>

<p>White, Richard L, Perry Greenfield, William Pence, Nasa Gsfc, Doug Tody, and Rob Seaman. 2011. Tiled Image Convention for Storing Compressed Images in FITS Binary Tables: 1-17.</p></div></div></div></div></body></html>